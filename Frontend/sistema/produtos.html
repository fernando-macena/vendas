<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="../css/produtos.css">
	<script>
		function validaEntrada(log, idElemento, tipoValidacao) {
			console.log("Valida entrada: " + log)

			elemento = document.getElementById(idElemento)
			input = elemento.querySelector('input')
			resultadoValidacao = elemento.querySelector('#resultadoValidacao')

			if(tipoValidacao === "numerico") {
				if(log === "") {
					input.value = null

					input.classList.add("inputError")

					resultadoValidacao.innerText = 'Digite um valor válido'
				} else if (parseInt(log) < 5) {
					input.value = 10

					input.classList.remove("inputError")
					resultadoValidacao.innerText = ""
				} else if (parseInt(log) >= 100) {
					input.value = 100

					input.classList.remove("inputError")
					resultadoValidacao.innerText = ""
				} else {
					input.classList.remove("inputError")
					resultadoValidacao.innerText = ""
				}
			} 
		}

		function adicionaListener(idElemento, tipoValidacao) {				
			document.getElementById(idElemento).addEventListener("keydown", (event) => 
			{
				if(event.key === "Enter") 
				{
					var input = document.getElementById(idElemento).querySelector('input')

					var log = input.value

					validaEntrada(log, idElemento, tipoValidacao)
				}
			}
			)
		}
	</script>
</head>
<body>
	<div id="container">
		<div id="cabecalho">
			<div class="botao">
				<button onclick="window.parent.mostrarDialogPainel(document.getElementById('cadastro-produto'))"><img src="../img/produto/mais.svg"><span>Novo</span></button>
			</div>

			<div style="display: none;">			
				<div id="cadastro-produto">
					<p>Conteudo do cadastro</p>
				</div>
			</div>


			<div id="cabecalho-conteudo">
				<div id="mostrar" onclick="adicionaListener('mostrar', 'numerico')">
					<span>Mostrar:</span> <input type="number" min="0" max="100" step="5"> <span id="resultadoValidacao"></span>
				</div>

				<div id="buscar" onclick="adicionaListener('buscar', 'textual')">
					<span>Buscar:</span> <input type="text"> <span id="resultadoValidacao"></span>
				</div>
			</div>
		</div>

		<div id="conteudo">

			<div id="tabela_conteudo">
				<table>
					<tr>
						<th>Nome</th>
						<th>Estoque</th>
						<th>Ações</th>
					</tr>
					<tr>
						<td>Creme de pentear</td>
						<td>1</td>
						<td>Imagem do produto</td>
					</tr>
					<tr>
						<td>Produto 2</td>
						<td>10</td>
						<td>Ações</td>
					</tr>
				</table>
			</div>


		</div>
	</div>
</body>
</html>